package sbvalidator

import (
	"fmt"
	"testing"
)

const (
	signaling_validate_url = "https://kczvtfaouddunjtxcemk.functions.supabase.co/signaling_authenticate"
	local_anon_key         = "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImtjenZ0ZmFvdWRkdW5qdHhjZW1rIiwicm9sZSI6ImFub24iLCJpYXQiOjE2Nzk1NDc0MTcsImV4cCI6MTk5NTEyMzQxN30.dJqF_ipAx8NF_P__tsR-KkghVSc2McQo8B3MxeEup58"
)

func TestValidator(t *testing.T) {
	validator := NewSbValidator(signaling_validate_url,local_anon_key)

	pairs,queue := validator.Validate([]string {
		"eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJ3b3JrZXJfc2Vzc2lvbl9jcmVhdGVfZ2VuX3Rva2VuIiwiaWF0IjoxNjc5NzE5MTQ1LCJleHAiOjE3MTEyNTUxNDUsInN1YiI6IntcInNlc3Npb25fYWNjb3VudF9pZFwiOjQ0fSJ9.JI9e9yozVDfVD0RZnj5JR3tsw6wLlD_lQoVeTgefCKCnbXqeXuZQJjF3VWHC8g9pqCN2NECxdsJxNSHmcjQKXsJ317A4T-TGOkt_a0x7jozd4lBKOTuuWzZMHJTqP0LWm-2IMez6txiITzpkqlLhGAZkCR6YtkCt33p1Y9s1F0sIRq6RHOTOMel2VqGbp6c5kbzriMPZIRzA_3ZIew8M5KqlSd7XNzrlCU3UqlBh-wTByV1XRmrM2DNgQVs78DJSMUdZQK4ELF3hK1-sWFpIhCtGMCFu_83AtCiY-9CQv5NacBkgGlPNT1VDyPFnXbaMwF_c0Cv4Jkf3n66R3I-847rpO-rdCWiDpEOEjMPR6cp_0pPR5tGK4PbmGY73yYFnLRvHx1gRBB293ACejRYL5oYcfxXHj1LOv0y8vGYFV2qotVCKz48dkhOfDH44-aRCkdv7rCpm2JeK9RSAVNqGdDF_1ZIEUsQyd2Yc8Ss-_IPk-2SkhH5XMFd3hCMGikhZcqkxiCZaxaw_8CtWfHNzFp-YG3mEQmTr3OTpX4X_1CJBuffQ_fbafd8oBfLMxMNtd-hoQWs-KOtA8NIlALOF9sr5KUAm_WQO_DvSJv50zbZNJV5t4WhAJ8m_PJdRGWIYc7ffMQIPNP4JcTDIhB9p_M4mFGRTLTGe7DPG5sOnpUQ",
		"eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzZXNzaW9uX2F1dGhlbnRpY2F0ZSIsImlhdCI6MTY3OTcxOTk3MCwiZXhwIjoxNzExMjU1OTcxLCJzdWIiOiJ7XCJzZXNzaW9uX2FjY291bnRfaWRcIjo1M30ifQ.RIaj3V2rBFjsnnmVzEdBAoJSXuPV1aY1QJ0rFA0pJORIj8ZJHd9eSE8PoF10JLhJScYPzPkvv43cBwg6wfmhKamr9FxMVsRtUFLH2kAmTpmsFPlracNazw35puGWXg5hMZI4AUyFdLboC_FWc7d_Mea5UCB7fEzE24iK_SHHjaRMYN0cqIb49agCdAONarAlfXbDjU_2hLMSdDmjKWcbq8_wovlhKfhP0oN7stqrDI8qr7oXO_0yrKHNf19qw5fFPyVA6mDZjNI8RWHyWZYkGGGps-x69GVQLFhse_vTWTlQ7CgkqAsVjP7qUVdMu8M9NwZe5LpxMwWheWriucOc0ZrRSGpygcKysmUdoqH-rMpXiO_va4XpmO9ZZaaVOB5dQieWur3klByexUvya8oUoC5ZrdBuil4au-MzJ-66xoW8FxA9iR1h-oe_n2pK6iiYOBx3Q6Qp03HyBJz1_nKp6tvf6F3ajFfJ9CuPKH5-Ry_1BqyFXg3aDCt00u1dIvBR8mTIKgHYZ0WaSkMFAdbzzFW7fBR1H1adukEK2298i-XF4EwywqRe6aTxuScpN9i7sCrDjx2794_GKOLP1px2G1a69R6_wJLPH_HS1YaV3do8j9-05y_rvJQ12gaDLbN--U2lTEdADt1qH-5fe0GFOZy6L3ETp6-g9cFP4eXdgHY",
		
		"eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJ3b3JrZXJfc2Vzc2lvbl9jcmVhdGVfZ2VuX3Rva2VuIiwiaWF0IjoxNjc5NjUwMzMzLCJleHAiOjE3MTExODYzMzMsInN1YiI6IntcInNlc3Npb25fYWNjb3VudF9pZFwiOjI0fSJ9.5xPB_L3FkU3euw1ekPxlt2dK-C_OngiOM0Dmp64I1RCwxgWt0KYAOYkBZ2qyJ3vQ5KDKdkAqmjYKnW5tYUpgVQQu8WMduM4QxHVKbDu5Oor-_vXWzeuNmyHhuKHlZmotDONLuFaAoLjyEg_YNR0UzVRc7vIEnMg_4wXVkzD0n1uhXVSVUgmZ77r1rolCFU_R6drIWLES8ivJQkZj3rzwXnW_nG8kSeyOr76UOtPB05cbJtSeL-qcOhA_GQ_x0PNjU3UREpHqHP_uh1Zb_OQq3gL9IdNhZykRFQ8tBMIeMOJx045ZIjicmll4R3ob4YsBVXVZyqrsT1ihzpg2sxwOsoXs5UVpY3aHlpn_N8HxwukuLajxIKMfpMi2SPM_Z3GZYWsr4GqNsav3rUBBiKKjzBT5GNJg6nmNdwYlzalJ3yaHHhzP4erhCm6x_XZCLwzO_oqnD2X4Uzpzx63p0iij_5Y5Gr6Bn60Fcf13ioebrPYrLRVSb0-q5guI8NzBr3ztpktYJK1zQLYmTT2-mOmH4hFPNqmEFXYsB8KTpuN8X95BrK2CcKIv8tCiYBQ9huEk7mUw5c2mTkG47MfVPPMIuXexBY2XS3bXauo1Rt2Bxtfkmd-3wD1ej2Bw5r6XjSq1OcQy4ZSK1UybvFcnQV781YjDUalHWbYTfYxgZimeWyk",
		"corrputedtoken",
		"corrputedtokenb",
		"corrputedtokenc",
	})

	fmt.Printf("%v\n%v",queue,pairs)
}